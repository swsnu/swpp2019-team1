jobs:
  include:
    - language: node_js
      node_js:
        - "10"
      dist: trusty
      install:
        - cd front
        - yarn install
      script:
        - "./node_modules/.bin/eslint src"
        - yarn testf_
      after_script:
        - yarn coveralls

    - language: python
      python: 3.7.4
      dist: xenial
      install:
        - cd back
        - pip install -r requirements.txt
      script:
        - coverage run --branch --source="." -m pytest
        - coverage report --fail-under=80 -m
        - coverage xml
        - pylint ./*/
      after_script:
        - coveralls
    - stage: Sonarcloud code anaysis
      script:
        - sonar-scanner
