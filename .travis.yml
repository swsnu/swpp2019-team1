matrix:
  include:
    # Your language e.g. node_js, python
    - language: node_js
      # node_js version
      node_js:
        - "10"
      # sonar cloud setting
      dist: trusty
      addons:
        sonarcloud:
          organization: "swsnu"
          token:
            secure: "NG8h21VSxeWxlg1X8A4DuNGunX1Y5v1Q8tseyY4tZllt4J49jbZ+0xBACDLY1u7f/wTGaeAwKfGeKNFMogcZAVzgUn8h7RwxtCt1CkUfDpH4keACswdhWd1hWaRHYYxp4RcJqHco73XUayZiylzjlrLlLfJovS3jfEVNPFX6Gp0wyDv7Me8pJf9jJZtXXY1WHTZvijEDXpoYZdZbrj569thQ1NPhWoCf0+L5SJy5dJY6bzDI9MQyqiaeGv60LqVPBcmtmDkg8DDVzXepKurinT5yWZunGbnl+gexdDrzBlHsj1qu7vPRIPNhHyFOundqMq5wqPqzCyUgpvcb6+eOa3FtlOhmWEj089E6fiOimgkMBzkiBdb3ppjj8g9ojntvkzL5H4kf1DW9HefD1oLZZSu91RtrHudc9yH5BSuFPIiDxXG3bq8+2tp7BetFj7fAe/C9gLbTiaHUeWQYqaV9RBWa9i43ilG7GTw6Nfc4q8mQo6eYdI/A5a6XHA9myXtOViy03OJiyYHeRzBcCpK5brqKqG/NJA15YTqfLTSnFN5gg9VXlUMxA+y+0k7igVXRRG2wNo6hjYeB/ZW9u6iZvRhlFt6gS9BfjSGwyCHdoqLwz90mYBKLIupbnAU9qdbezjdlhfxoVdazZMVIzf0+2lLvg7VZIige0myRLh4X4kg="

      before_install: # Script to run before install
        - cd front
      install:
        # Script to install required packages
        - yarn install
      script:
        # Script to test your build
        - ./node_modules/.bin/eslint src
        - yarn test --coverage --watchAll=false
        - sonar-scanner
    - language: python
      python: 3.7.4
      # sonar cloud setting
      dist: xenial
      addons:
        sonarcloud:
          organization: "swsnu"
          token:
            secure: "NG8h21VSxeWxlg1X8A4DuNGunX1Y5v1Q8tseyY4tZllt4J49jbZ+0xBACDLY1u7f/wTGaeAwKfGeKNFMogcZAVzgUn8h7RwxtCt1CkUfDpH4keACswdhWd1hWaRHYYxp4RcJqHco73XUayZiylzjlrLlLfJovS3jfEVNPFX6Gp0wyDv7Me8pJf9jJZtXXY1WHTZvijEDXpoYZdZbrj569thQ1NPhWoCf0+L5SJy5dJY6bzDI9MQyqiaeGv60LqVPBcmtmDkg8DDVzXepKurinT5yWZunGbnl+gexdDrzBlHsj1qu7vPRIPNhHyFOundqMq5wqPqzCyUgpvcb6+eOa3FtlOhmWEj089E6fiOimgkMBzkiBdb3ppjj8g9ojntvkzL5H4kf1DW9HefD1oLZZSu91RtrHudc9yH5BSuFPIiDxXG3bq8+2tp7BetFj7fAe/C9gLbTiaHUeWQYqaV9RBWa9i43ilG7GTw6Nfc4q8mQo6eYdI/A5a6XHA9myXtOViy03OJiyYHeRzBcCpK5brqKqG/NJA15YTqfLTSnFN5gg9VXlUMxA+y+0k7igVXRRG2wNo6hjYeB/ZW9u6iZvRhlFt6gS9BfjSGwyCHdoqLwz90mYBKLIupbnAU9qdbezjdlhfxoVdazZMVIzf0+2lLvg7VZIige0myRLh4X4kg="

      before_install:
        - cd back
      install:
        - pip install -r requirements.txt
      script:
        - coverage run --branch --source='./matchmaker' manage.py test
        - coverage report --fail-under=80 -m
        - sonar-scanner # TODO: should be removed or not?

